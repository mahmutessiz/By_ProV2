<Window x:Class="By_ProV2.SutAlimFormu"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:helpers="clr-namespace:By_ProV2.Helpers"
        Title="Ã‡iÄŸ SÃ¼t AlÄ±m Formu"
        Height="1000" Width="1200"
        WindowStartupLocation="CenterScreen"
        Background="#F9F9F9"
        Loaded="Window_Loaded"
        Icon="/Resources/Logo.png">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- ðŸŸ¦ BaÅŸlÄ±k -->
        <Border Background="#2C3E50" CornerRadius="6" Padding="12" Margin="0,0,0,15">
            <TextBlock Text="Ã‡Ä°Äž SÃœT ALIM FORMU"
                       Foreground="White"
                       FontSize="28"
                       FontWeight="Bold"
                       HorizontalAlignment="Center"/>
        </Border>

        <!-- ðŸ”¢ Belge NumarasÄ±, Ä°ÅŸlem TÃ¼rÃ¼ ve GÃ¼ncel Envanter -->
        <Grid Grid.Row="1" Margin="0,0,0,15">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Belge No -->
            <StackPanel Grid.Column="0" HorizontalAlignment="Left">
                <TextBlock Text="Belge No" FontWeight="Bold" VerticalAlignment="Center" HorizontalAlignment="center"/>
                <TextBox x:Name="txtBelgeNo" Width="150" Height="25" IsReadOnly="True" 
                         Margin="0,5,0,0"
                         Padding="0,4,0,0" 
                         FontSize="12" 
                         TextAlignment="Center"
                         Background="#F0F0F0"
                         />
            </StackPanel>
            
            <!-- Ä°ÅŸlem TÃ¼rÃ¼ -->
            <StackPanel Grid.Column="1" HorizontalAlignment="Center">
                <TextBlock Text="Ä°ÅŸlem TÃ¼rÃ¼" FontWeight="Bold" VerticalAlignment="Center" HorizontalAlignment="center"/>
                <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
                    <RadioButton x:Name="rbDepoAlim" Content="Depoya AlÄ±m" GroupName="IslemTuru" Margin="5,0" Checked="IslemTuru_Checked"/>
                    <RadioButton x:Name="rbDirekSevk" Content="Direkt Sevk" GroupName="IslemTuru" Margin="5,0" Checked="IslemTuru_Checked"/>
                    <RadioButton x:Name="rbDepodanSevk" Content="Depodan Sevk" GroupName="IslemTuru" Margin="5,0" Checked="IslemTuru_Checked"/>
                </StackPanel>
            </StackPanel>

            <!-- GÃ¼ncel Envanter -->
            <StackPanel Grid.Column="2" HorizontalAlignment="Right">
                <TextBlock Text="GÃ¼ncel Envanter (Lt)" FontWeight="Bold" VerticalAlignment="Center" HorizontalAlignment="center"/>
                <TextBlock x:Name="lblCurrentDayInventory" Width="150" Height="25" 
                           Margin="0,5,0,0" FontSize="12" Padding="0,4,0,0" 
                           TextAlignment="Center" Background="#F0F0F0"
                           Text="0.00"
                           /> <!-- Default value -->
            </StackPanel>
        </Grid>

        <!-- ðŸ§¾ TedarikÃ§i / MÃ¼ÅŸteri SeÃ§imi -->
        <Grid Grid.Row="2" Margin="0,0,0,20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <!-- TedarikÃ§i -->
            <GroupBox Header="TedarikÃ§i Bilgisi" FontWeight="Bold" Margin="0,0,10,0">
                <StackPanel Orientation="Horizontal" Margin="10">
                    <Button x:Name="btnTedarikciSec" Content="SeÃ§" Width="80" Height="25" Click="btnTedarikciSec_Click"/>
                    <TextBox x:Name="txtTedarikciKod"
                             Width="120" Height="25"
                             Margin="10,0"
                             IsReadOnly="True"
                             />
                    <TextBox x:Name="txtTedarikciAdi"
                             Width="260" Height="25"
                             IsReadOnly="True"
                            />
                </StackPanel>
            </GroupBox>

            <!-- MÃ¼ÅŸteri -->
            <GroupBox Header="MÃ¼ÅŸteri Bilgisi" FontWeight="Bold" Grid.Column="1" Margin="10,0,0,0">
                <StackPanel Orientation="Horizontal" Margin="10">
                    <Button x:Name="btnMusteriSec" Content="SeÃ§" Width="80" Height="25" Click="btnMusteriSec_Click"/>
                    <TextBox x:Name="txtMusteriKod"
                             Width="120" Height="25"
                             Margin="10,0"
                             IsReadOnly="True"
                             />
                    <TextBox x:Name="txtMusteriAdi"
                             Width="260" Height="25"
                             IsReadOnly="True"
                             />
                </StackPanel>
            </GroupBox>
        </Grid>

        <!-- âš—ï¸ Analiz AlanlarÄ± -->
        <GroupBox Header="SÃ¼t AlÄ±m Bilgileri ve Analiz DeÄŸerleri"
                  Grid.Row="3"
                  FontWeight="Bold">
            <Grid Margin="15">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="150" />
                    <ColumnDefinition Width="130" />
                    <ColumnDefinition Width="80" />
                    <ColumnDefinition Width="150" />
                    <ColumnDefinition Width="130" />
                    <ColumnDefinition Width="80" />
                    <ColumnDefinition Width="150" />
                    <ColumnDefinition Width="130" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>                    
                </Grid.RowDefinitions>

                <!-- Sol sÃ¼tun -->
                <TextBlock Text="Tarih:" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center"/>
                <DatePicker x:Name="dpTarih" Grid.Row="0" Grid.Column="1" Height="25" Width="120" HorizontalAlignment="Left" Margin="5,5,0,0"/>

                <TextBlock Text="Miktar (Lt):" Grid.Row="1" Grid.Column="0" VerticalAlignment="Center"/>
                <TextBox x:Name="txtMiktar"
                         Grid.Row="1" Grid.Column="1"
                         Width="120" Height="25"
                         HorizontalAlignment="Left" Margin="5,5,0,0"
                         TextChanged="txtMiktar_TextChanged"/>

                <TextBlock Text="Net Miktar (Lt):" Grid.Row="2" Grid.Column="0" VerticalAlignment="Center"/>
                <TextBox x:Name="txtNetMiktar"
                         Grid.Row="2" Grid.Column="1"
                         Width="120" Height="25"
                         HorizontalAlignment="Left" Margin="5,5,0,0"
                         IsReadOnly="True" Background="#F0F0F0"/>

                <TextBlock Text="YaÄŸ (%):" Grid.Row="3" Grid.Column="0" VerticalAlignment="Center"/>
                <TextBox x:Name="txtYag" Grid.Row="3" Grid.Column="1" Width="120" Height="25" HorizontalAlignment="Left" Margin="5,5,0,0"/>

                <TextBlock Text="Protein (%):" Grid.Row="4" Grid.Column="0" VerticalAlignment="Center"/>
                <TextBox x:Name="txtProtein" Grid.Row="4" Grid.Column="1" Width="120" Height="25" HorizontalAlignment="Left" Margin="5,5,0,0"/>

                <TextBlock Text="Laktoz (%):" Grid.Row="5" Grid.Column="0" VerticalAlignment="Center"/>
                <TextBox x:Name="txtLaktoz" Grid.Row="5" Grid.Column="1" Width="120" Height="25" HorizontalAlignment="Left" Margin="5,5,0,0"/>

                <TextBlock Text="TKM (%):" Grid.Row="6" Grid.Column="0" VerticalAlignment="Center"/>
                <TextBox x:Name="txtTKM" Grid.Row="6" Grid.Column="1" Width="120" Height="25" HorizontalAlignment="Left" Margin="5,5,0,0"/>

                <TextBlock Text="YKM (%):" Grid.Row="7" Grid.Column="0" VerticalAlignment="Center"/>
                <TextBox x:Name="txtYKM" Grid.Row="7" Grid.Column="1" Width="120" Height="25" HorizontalAlignment="Left" Margin="5,5,0,0"/>

                <!-- Orta sÃ¼tun -->
                <TextBlock Text="pH:" Grid.Row="0" Grid.Column="3" VerticalAlignment="Center"/>
                <TextBox x:Name="txtpH" Grid.Row="0" Grid.Column="4" Width="120" Height="25" HorizontalAlignment="Left" Margin="5,5,0,0"/>

                <TextBlock Text="Ä°letkenlik (ÂµS):" Grid.Row="1" Grid.Column="3" VerticalAlignment="Center"/>
                <TextBox x:Name="txtIletkenlik" Grid.Row="1" Grid.Column="4" Width="120" Height="25" HorizontalAlignment="Left" Margin="5,5,0,0"/>

                <TextBlock Text="SÄ±caklÄ±k (Â°C):" Grid.Row="2" Grid.Column="3" VerticalAlignment="Center"/>
                <TextBox x:Name="txtSicaklik" Grid.Row="2" Grid.Column="4" Width="120" Height="25" HorizontalAlignment="Left" Margin="5,5,0,0"/>

                <TextBlock Text="YoÄŸunluk (g/cmÂ³):" Grid.Row="3" Grid.Column="3" VerticalAlignment="Center"/>
                <TextBox x:Name="txtYogunluk" Grid.Row="3" Grid.Column="4" Width="120" Height="25" HorizontalAlignment="Left" Margin="5,5,0,0"/>

                <TextBlock Text="Kesinti (Lt):" Grid.Row="4" Grid.Column="3" VerticalAlignment="Center"/>
                <TextBox x:Name="txtKesinti" Grid.Row="4" Grid.Column="4" Width="120" Height="25" HorizontalAlignment="Left" Margin="5,5,0,0" 
                         IsReadOnly="True" Background="#F0F0F0"/>

                <TextBlock Text="Antibiyotik:" Grid.Row="5" Grid.Column="3" VerticalAlignment="Center"/>
                <ComboBox x:Name="cmbAntibiyotik" Grid.Row="5" Grid.Column="4" Width="120" Height="25" HorizontalAlignment="Left" Margin="5,5,0,0">
                    <ComboBoxItem Content="Negatif" IsSelected="True"/>
                    <ComboBoxItem Content="Pozitif"/>
                </ComboBox>

                <TextBlock Text="AraÃ§ Temizlik:" Grid.Row="6" Grid.Column="3" VerticalAlignment="Center"/>
                <ComboBox x:Name="cmbAracTemizlik" Grid.Row="6" Grid.Column="4" Width="120" Height="25" HorizontalAlignment="Left" Margin="5,5,0,0">
                    <ComboBoxItem Content="Temiz" IsSelected="True"/>
                    <ComboBoxItem Content="Kirli"/>
                </ComboBox>
                
                <TextBlock Text="Plaka:" Grid.Row="7" Grid.Column="3" VerticalAlignment="Center"/>
                <TextBox x:Name="txtPlaka" Grid.Row="7" Grid.Column="4" Width="120" Height="25" HorizontalAlignment="Left" Margin="5,5,0,0"/>

                <TextBlock Text="Durumu:" Grid.Row="8" Grid.Column="6" VerticalAlignment="Center"/>
                <ComboBox x:Name="cmbDurumu" Grid.Row="8" Grid.Column="7"
          Width="120" Height="60"
          SelectedIndex="0"
          HorizontalContentAlignment="Center"
          VerticalContentAlignment="Center">
                    <ComboBox.Template>
                        <ControlTemplate TargetType="ComboBox">
                            <Grid>
                                <ToggleButton x:Name="ToggleButton"                             
                              Grid.Column="2"
                              Focusable="false"
                              IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
                              ClickMode="Press" />

                                <ContentPresenter x:Name="ContentSite"
                                  IsHitTestVisible="False"
                                  Content="{TemplateBinding SelectionBoxItem}"
                                  ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                  ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}"
                                  Margin="3,3,23,3"
                                  VerticalAlignment="Center"
                                  HorizontalAlignment="Center" />
                                <TextBox x:Name="PART_EditableTextBox"
                         Style="{x:Null}"
                         HorizontalAlignment="Left"
                         VerticalAlignment="Center"
                         Margin="3,3,23,3"
                         Focusable="True"
                         Background="Transparent"
                         Visibility="Hidden"
                         IsReadOnly="{TemplateBinding IsReadOnly}" />
                                <Popup x:Name="Popup"
                       Placement="Bottom"
                       IsOpen="{TemplateBinding IsDropDownOpen}"
                       AllowsTransparency="True"
                       Focusable="False"
                       PopupAnimation="Slide">
                                    <Grid x:Name="DropDown"
                          SnapsToDevicePixels="True"
                          MinWidth="{TemplateBinding ActualWidth}"
                          MaxHeight="{TemplateBinding MaxDropDownHeight}">
                                        <Border x:Name="DropDownBorder"
                                Background="White"
                                BorderThickness="1"
                                BorderBrush="#888" />
                                        <ScrollViewer Margin="4,6,4,6"
                                      SnapsToDevicePixels="True">
                                            <StackPanel IsItemsHost="True"
                                        KeyboardNavigation.DirectionalNavigation="Contained" />
                                        </ScrollViewer>
                                    </Grid>
                                </Popup>
                            </Grid>

                            <!-- ðŸ”¸ Renk deÄŸiÅŸimi iÃ§in Triggerâ€™lar -->
                            <ControlTemplate.Triggers>
                                <DataTrigger Binding="{Binding SelectedItem.Content, RelativeSource={RelativeSource Self}}" Value="Kabul">
                                    <Setter TargetName="ToggleButton" Property="Background" Value="#C8E6C9"/>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding SelectedItem.Content, RelativeSource={RelativeSource Self}}" Value="ÅžartlÄ± Kabul">
                                    <Setter TargetName="ToggleButton" Property="Background" Value="#FFE0B2"/>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding SelectedItem.Content, RelativeSource={RelativeSource Self}}" Value="Ret">
                                    <Setter TargetName="ToggleButton" Property="Background" Value="#EF9A9A"/>
                                    <Setter TargetName="ContentSite" Property="TextElement.Foreground" Value="White"/>
                                </DataTrigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </ComboBox.Template>

                    <!-- ComboBox iÃ§eriÄŸi -->
                    <ComboBoxItem Content="Kabul"/>
                    <ComboBoxItem Content="ÅžartlÄ± Kabul"/>
                    <ComboBoxItem Content="Ret"/>
                </ComboBox>



                <!-- SaÄŸ SutÃ¼n -->
                <TextBlock Text="Donma NoktasÄ±:" Grid.Row="0" Grid.Column="6" VerticalAlignment="Center"/>
                <TextBox x:Name="txtDonma" Grid.Row="0" Grid.Column="7" Width="120" Height="25" HorizontalAlignment="Left" Margin="5,5,0,0" 
                         TextChanged="txtDonma_TextChanged"/>
                
                <TextBlock Text="T.Bakteri (ml/kob):" Grid.Row="1" Grid.Column="6" VerticalAlignment="Center"/>
                <TextBox x:Name="txtBakteri" Grid.Row="1" Grid.Column="7" Width="120" Height="25" HorizontalAlignment="Left" Margin="5,5,0,0"/>

                <TextBlock Text="Somatik HÃ¼cre:" Grid.Row="2" Grid.Column="6" VerticalAlignment="Center"/>
                <TextBox x:Name="txtSomatik" Grid.Row="2" Grid.Column="7" Width="120" Height="25" HorizontalAlignment="Left" Margin="5,5,0,0"/>

                <!-- AÃ§Ä±klama -->
                <TextBlock Text="AÃ§Ä±klama:" Grid.Row="8" Grid.Column="0" VerticalAlignment="Top"/>
                <TextBox x:Name="txtAciklama" Grid.Row="8" Grid.Column="1" Grid.ColumnSpan="4"
                         Height="60" TextWrapping="Wrap" AcceptsReturn="True" Margin="5,5,0,0" />
            </Grid>
        </GroupBox>
        <!-- ðŸ“‹ KayÄ±t Listesi (DataGrid) -->
        <GroupBox Header="AraÃ§taki TedarikÃ§i Listesi"
          Grid.Row="4"
          FontWeight="Bold"
          Margin="0,10,0,0">
            <Grid Margin="10">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Ãœst Butonlar -->
                <StackPanel Orientation="Horizontal" Grid.Row="0" HorizontalAlignment="Right" Margin="0,0,0,10">
                    <Button x:Name="btnListeyeEkle"
                    Content="âž• Listeye Ekle"
                    Width="140" Height="35" Margin="5" Click="btnListeyeEkle_Click"/>
                    <Button x:Name="btnSecileniSil"
                    Content="ðŸ—‘ï¸ SeÃ§ileni Sil"
                    Width="130" Height="35" Margin="5" Click="btnSecileniSil_Click"/>
                </StackPanel>

                <!-- DataGrid -->
                <DataGrid x:Name="dgTedarikciler"
                          Grid.Row="1"
                          RowHeight="25"
                          AutoGenerateColumns="False"
                          CanUserAddRows="False"
                          IsReadOnly="True"
                          AlternatingRowBackground="#F2F2F2"
                          HeadersVisibility="Column"
                          Margin="0,5,0,0"
                          MouseDoubleClick="dgTedarikciler_MouseDoubleClick"
                          SelectionChanged="dgTedarikciler_SelectionChanged">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Belge No" Binding="{Binding BelgeNo}" Width="*"/>
                        <DataGridTextColumn Header="TedarikÃ§i Kod" Binding="{Binding TedarikciKod}" Width="*"/>
                        <DataGridTextColumn Header="TedarikÃ§i AdÄ±" Binding="{Binding TedarikciAdi}" Width="2*"/>
                        <DataGridTextColumn Header="MÃ¼ÅŸteri Kod" Binding="{Binding MusteriKod}" Width="*"/>
                        <DataGridTextColumn Header="MÃ¼ÅŸteri AdÄ±" Binding="{Binding MusteriAdi}" Width="*"/>
                        <DataGridTextColumn Header="Miktar (Lt)" Binding="{Binding Miktar}" Width="*"/>
                        <DataGridTextColumn Header="Net Miktar" Binding="{Binding NetMiktar}" Width="*"/>
                        <DataGridTextColumn Header="YaÄŸ (%)" Binding="{Binding Yag}" Width="*"/>
                        <DataGridTextColumn Header="Protein (%)" Binding="{Binding Protein}" Width="*"/>
                        <DataGridTextColumn Header="Laktoz (%)" Binding="{Binding Laktoz}" Width="*"/>
                        <DataGridTextColumn Header="TKM" Binding="{Binding TKM}" Width="*"/>
                        <DataGridTextColumn Header="YKM" Binding="{Binding YKM}" Width="*"/>
                        <DataGridTextColumn Header="pH" Binding="{Binding pH}" Width="*"/>
                        <DataGridTextColumn Header="Ä°letkenlik" Binding="{Binding Iletkenlik}" Width="*"/>
                        <DataGridTextColumn Header="SÄ±caklÄ±k" Binding="{Binding Sicaklik}" Width="*"/>
                        <DataGridTextColumn Header="YoÄŸunluk" Binding="{Binding Yogunluk}" Width="*"/>
                        <DataGridTextColumn Header="Kesinti" Binding="{Binding Kesinti}" Width="*"/>
                        <DataGridTextColumn Header="Antibiyotik" Binding="{Binding Antibiyotik}" Width="*"/>
                        <DataGridTextColumn Header="AraÃ§" Binding="{Binding AracTemizlik}" Width="*"/>
                        <DataGridTextColumn Header="Donma N." Binding="{Binding DonmaN}" Width="*"/>
                        <DataGridTextColumn Header="Bakteri" Binding="{Binding Bakteri}" Width="*"/>
                        <DataGridTextColumn Header="Somatik" Binding="{Binding Somatik}" Width="*"/>
                        <DataGridTextColumn Header="Plaka" Binding="{Binding Plaka}" Width="*"/>
                        <DataGridTextColumn Header="Durum" Binding="{Binding Durumu}" Width="*"/>
                        <DataGridTextColumn Header="AÃ§Ä±klama" Binding="{Binding Aciklama}" Width="*"/>
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>
        </GroupBox>


        <!-- ðŸ”˜ Alt Butonlar -->
        <StackPanel Grid.Row="5" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
            <Button Content="ðŸ’¾ Kaydet" Width="130" Height="45" Margin="5" Click="btnKaydet_Click"/>
            <Button Content="ðŸ†• Yeni" Width="110" Height="45" Margin="5" Click="btnYeni_Click"/>
            <Button Content="âŒ Kapat" Width="110" Height="45" Margin="5" Click="btnKapat_Click"/>
        </StackPanel>
    </Grid>
</Window>